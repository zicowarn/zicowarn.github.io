<!DOCTYPE html>
<html lang="zh-cn">
  <head prefix="og: https://ogp.me/ns#">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>Frappe Gantt â€œä»Šæ—¥çº¿â€å®ç°æœºåˆ¶æ·±åº¦è§£æ - Barbossa Wang ä¸ªäººæŠ€æœ¯åšå®¢</title>
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  <link rel='manifest' href='/manifest.json'>
  

  <meta name="description" content="ä½œè€…: Jim Wang å…¬ä¼—å·:  å·´åšè¨èˆ¹é•¿ æ‘˜è¦ï¼šæœ¬æ–‡æ·±å…¥åˆ†æ Frappe Gantt å®˜æ–¹ä»£ç ä¸­â€œä»Šæ—¥çº¿ï¼ˆToday Lineï¼‰â€çš„å®ç°é€»è¾‘ã€‚é€šè¿‡è¿½è¸ªå‡½æ•°è°ƒç”¨è·¯å¾„ï¼Œæ­ç¤ºäº†ä¸€ä¸ªå…³é”®ç»†èŠ‚ï¼šåªæœ‰å½“â€œä»Šå¤©â€ä½äºä»»åŠ¡æ—¶é—´èŒƒå›´å†…æ—¶ï¼Œä»Šæ—¥çº¿æ‰ä¼šè¢«ç»˜åˆ¶ã€‚ è¿™ä¸€æœºåˆ¶è™½ç„¶ç¬¦åˆè®¾è®¡æ„å›¾ï¼Œå´å¸¸å¸¸è®©å¼€å‘è€…è¯¯ä»¥ä¸ºâ€œé«˜äº®åŠŸèƒ½æ— æ•ˆâ€ã€‚æœ¬æ–‡å°†è¯¦ç»†å‰–ææºç ç»“æ„ã€ç»˜åˆ¶é€»è¾‘åŠåˆ¤æ–­æ¡ä»¶ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„æ”¹è¿›å»ºè®®ã€‚ Abstract:">
<meta property="og:type" content="article">
<meta property="og:title" content="Frappe Gantt â€œä»Šæ—¥çº¿â€å®ç°æœºåˆ¶æ·±åº¦è§£æ">
<meta property="og:url" content="https://zicowarn.github.io/posts/js-experience-frappe-gantt-todayline.html">
<meta property="og:site_name" content="Barbossa Wang ä¸ªäººæŠ€æœ¯åšå®¢">
<meta property="og:description" content="ä½œè€…: Jim Wang å…¬ä¼—å·:  å·´åšè¨èˆ¹é•¿ æ‘˜è¦ï¼šæœ¬æ–‡æ·±å…¥åˆ†æ Frappe Gantt å®˜æ–¹ä»£ç ä¸­â€œä»Šæ—¥çº¿ï¼ˆToday Lineï¼‰â€çš„å®ç°é€»è¾‘ã€‚é€šè¿‡è¿½è¸ªå‡½æ•°è°ƒç”¨è·¯å¾„ï¼Œæ­ç¤ºäº†ä¸€ä¸ªå…³é”®ç»†èŠ‚ï¼šåªæœ‰å½“â€œä»Šå¤©â€ä½äºä»»åŠ¡æ—¶é—´èŒƒå›´å†…æ—¶ï¼Œä»Šæ—¥çº¿æ‰ä¼šè¢«ç»˜åˆ¶ã€‚ è¿™ä¸€æœºåˆ¶è™½ç„¶ç¬¦åˆè®¾è®¡æ„å›¾ï¼Œå´å¸¸å¸¸è®©å¼€å‘è€…è¯¯ä»¥ä¸ºâ€œé«˜äº®åŠŸèƒ½æ— æ•ˆâ€ã€‚æœ¬æ–‡å°†è¯¦ç»†å‰–ææºç ç»“æ„ã€ç»˜åˆ¶é€»è¾‘åŠåˆ¤æ–­æ¡ä»¶ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„æ”¹è¿›å»ºè®®ã€‚ Abstract:">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-09T04:24:37.000Z">
<meta property="article:modified_time" content="2025-10-09T07:21:06.868Z">
<meta property="article:author" content="Barbossa Wang">
<meta property="article:tag" content="Javascript">
<meta property="article:tag" content="Frappe">
<meta property="article:tag" content="Gantt">
<meta name="twitter:card" content="summary">

  <link rel="preconnect" href="https://rsms.me/">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  
  
<link rel="stylesheet" href="https://unpkg.com/simple-icons-font@15/font/simple-icons.min.css">

  
  
  
<link rel="stylesheet" href="https://unpkg.com/bootstrap-icons@1/font/bootstrap-icons.min.css">

  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/code-highlighting.css">

  
  
  
<link rel="stylesheet" href="/css/components/card.css">

  
  
  
  
<link rel="stylesheet" href="/css/components/button.css">

  
  
  
  
<link rel="stylesheet" href="/css/components/badge.css">

  
  
  
  
<link rel="stylesheet" href="/css/components/utilities.css">

  
  
  
  
<link rel="stylesheet" href="/css/components/carousel.css">

  
  
  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
  
<link rel="stylesheet" href="/css/rainbow-banner.css">

  
  
  
<link rel="stylesheet" href="/css/toc.css">

  
  
  
  
  
<link rel="stylesheet" href="/css/post.css">

  
  
  
  
  
  
  
<link rel="stylesheet" href="/css/scroll-reveal.css">

  
  
  
<link rel="stylesheet" href="/css/view-transition.css">

  
  

  

  
<script src="/js/head.js"></script>

  
<meta name="generator" content="Hexo 5.4.2"></head>

  <body
    data-color-scheme="auto"
    data-uppercase-categories="true"
    
    data-rainbow-banner="true"
    data-rainbow-banner-shown="auto"
    data-rainbow-banner-month="6"
    data-rainbow-banner-colors="#e50000,#ff8d00,#ffee00,#008121,#004cff,#760188"
    
    data-config-root="/"
    
    data-toc="true"
    data-toc-max-depth="2"
    
    
    
    data-scroll-reveal-disappear="false"
    data-scroll-reveal-query=".scroll-reveal, .post-list-item, .card, .content p img, .content .block-large img"
    
    data-nav-blur-gradient="true"
  >
    
<script src="/js/body-top.js"></script>

    <a href="#main-content" id="skip-to-content">è·³è‡³ä¸»è¦å†…å®¹</a>
    

<div class="nav-mask">
  <div order="1"></div>
  <div order="2"></div>
  <div order="3"></div>
  <div order="4"></div>
  <div order="5"></div>
  <div order="6"></div>
</div>

<nav id="theme-nav">
  <div class="inner">
    <a class="title" href="/">Blog</a>
    <div class="nav-arrow"></div>
    <div class="nav-items">
      <a class="nav-item nav-item-home" href="/" style="--index: 0">ä¸»é¡µ</a>

      
      <a class="nav-item" href="/archives" style="--index: 1">Archives</a>
      
      <a class="nav-item" href="/tags" style="--index: 2">Tags</a>
      
      <a class="nav-item" href="/categories" style="--index: 3">Categories</a>
      
      <a class="nav-item" href="/about" style="--index: 4">About</a>
      
      <a class="nav-item" target="_blank" rel="noopener" href="https://github.com/zicowarn" style="--index: 5">GitHub</a>
      
      <a class="nav-item is-icon" href="/search" style="--index: 6"><i class="bi bi-search"></i></a>
      
    </div>
  </div>
</nav>

    <main id="main-content" data-pagefind-body>
      
<article class="post">
  
  <div class="meta">
    
    <div class="categories text-uppercase">
    
      <a href="/categories/Javascript-ç›¸å…³-å®æˆ˜ç»éªŒ/">Javascript ç›¸å…³ - å®æˆ˜ç»éªŒ</a>
    
    </div>
    

    
    <time class="date" datetime="2025-10-09T12:24:37+08:00">
      2025-10-09
    </time>
    

    <h1 class="title" data-pagefind-meta="title">Frappe Gantt â€œä»Šæ—¥çº¿â€å®ç°æœºåˆ¶æ·±åº¦è§£æ</h1>
  </div>

  <div class="content">
    <p>ä½œè€…: Jim Wang å…¬ä¼—å·:  <a class="main-button-link" href="#wechat" rel="noopener">å·´åšè¨èˆ¹é•¿</a></p>
<p>æ‘˜è¦ï¼šæœ¬æ–‡æ·±å…¥åˆ†æ Frappe Gantt å®˜æ–¹ä»£ç ä¸­â€œä»Šæ—¥çº¿ï¼ˆToday Lineï¼‰â€çš„å®ç°é€»è¾‘ã€‚é€šè¿‡è¿½è¸ªå‡½æ•°è°ƒç”¨è·¯å¾„ï¼Œæ­ç¤ºäº†ä¸€ä¸ªå…³é”®ç»†èŠ‚ï¼š<strong>åªæœ‰å½“â€œä»Šå¤©â€ä½äºä»»åŠ¡æ—¶é—´èŒƒå›´å†…æ—¶ï¼Œä»Šæ—¥çº¿æ‰ä¼šè¢«ç»˜åˆ¶</strong>ã€‚<br> è¿™ä¸€æœºåˆ¶è™½ç„¶ç¬¦åˆè®¾è®¡æ„å›¾ï¼Œå´å¸¸å¸¸è®©å¼€å‘è€…è¯¯ä»¥ä¸ºâ€œé«˜äº®åŠŸèƒ½æ— æ•ˆâ€ã€‚æœ¬æ–‡å°†è¯¦ç»†å‰–ææºç ç»“æ„ã€ç»˜åˆ¶é€»è¾‘åŠåˆ¤æ–­æ¡ä»¶ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„æ”¹è¿›å»ºè®®ã€‚</p>
<p>Abstract: This article analyzes how Frappe Gantt internally implements the â€œToday Lineâ€ feature that highlights the current date on a Gantt chart. By tracing its function call stack, we discover that the library only renders the line when â€œtodayâ€ falls within the visible task date range. This design decision explains why many users fail to see the today line when their task set does not include the current date. The article also discusses how to override this limitation and force-render the today line beyond the defined task range.</p>
<span id="more"></span>

<p>ä½œè€…: Jim Wang å…¬ä¼—å·:  <a class="main-button-link" href="#wechat" rel="noopener">å·´åšè¨èˆ¹é•¿</a></p>
<h2 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h2><p>Frappe Gantt æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å¯äº¤äº’çš„ç”˜ç‰¹å›¾ï¼ˆGantt Chartï¼‰åº“ï¼Œæ”¯æŒä»»åŠ¡ä¾èµ–ã€å‡æœŸæ ‡è¯†ã€è§†å›¾åˆ‡æ¢ã€æ»šåŠ¨å®šä½ç­‰åŠŸèƒ½ã€‚åœ¨æ–°ç‰ˆä¸­ï¼Œå®˜æ–¹åŠ å…¥äº†â€œä»Šæ—¥é«˜äº®ï¼ˆToday Highlightï¼‰â€æœºåˆ¶ï¼Œç”¨äºåœ¨å›¾è¡¨ä¸Šæ ‡ç¤ºå½“å‰æ—¥æœŸä½ç½®ã€‚</p>
<p>ç„¶è€Œï¼Œå¾ˆå¤šå¼€å‘è€…åœ¨å®é™…ä½¿ç”¨æ—¶å‘ç°ï¼š</p>
<blockquote>
<p>è®¾ç½®äº† <code>scroll_to: &#39;today&#39;</code> åå¯ä»¥æ»šåŠ¨åˆ°ä»Šå¤©ï¼Œä½†å¹¶æ²¡æœ‰çœ‹åˆ°æ˜æ˜¾çš„â€œä»Šæ—¥çº¿â€ã€‚</p>
</blockquote>
<p>è¿™å¹¶éæ¸²æŸ“é—®é¢˜ï¼Œè€Œæ˜¯æºè‡ªäº <strong>å®˜æ–¹å®ç°ä¸­çš„é€»è¾‘åˆ¤æ–­</strong>ã€‚</p>
<h2 id="æºç åˆ†æï¼šä»-change-view-mode-åˆ°-highlight-current"><a href="#æºç åˆ†æï¼šä»-change-view-mode-åˆ°-highlight-current" class="headerlink" title="æºç åˆ†æï¼šä» change_view_mode() åˆ° highlight_current()"></a>æºç åˆ†æï¼šä» <code>change_view_mode()</code> åˆ° <code>highlight_current()</code></h2><p>åœ¨ <code>frappe-gantt.umd.js</code> ä¸­ï¼Œæ¸²æŸ“ä¸»æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">change_view_mode()</span><br><span class="line"> â””â”€â”€ render()</span><br><span class="line">      â””â”€â”€ make_grid_extras()</span><br><span class="line">           â””â”€â”€ make_grid_highlights()</span><br><span class="line">                â””â”€â”€ highlight_current()</span><br></pre></td></tr></table></figure>

<p>æ•´ä¸ªâ€œä»Šæ—¥çº¿â€çš„ç»˜åˆ¶æ ¸å¿ƒåœ¨ <code>highlight_current()</code> å‡½æ•°ä¸­ã€‚</p>
<h2 id="æ ¸å¿ƒå‡½æ•°-highlight-current"><a href="#æ ¸å¿ƒå‡½æ•°-highlight-current" class="headerlink" title="æ ¸å¿ƒå‡½æ•° highlight_current()"></a>æ ¸å¿ƒå‡½æ•° <code>highlight_current()</code></h2><p>åç¼–è¯‘æºç åï¼Œé€»è¾‘å¤§è‡´å¦‚ä¸‹ï¼ˆåŠ å…¥æ³¨é‡Šè¯´æ˜ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">highlight_current</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–æœ€æ¥è¿‘ä»Šå¤©çš„æ—¥æœŸå’Œå…¶å¯¹åº”çš„æ—¥æœŸæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">const</span> [date, labelEl] = <span class="variable language_">this</span>.<span class="title function_">get_closest_date</span>();</span><br><span class="line">    <span class="keyword">if</span> (!date || !labelEl) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ğŸ’¡å…³é”®åˆ¤æ–­ï¼š</span></span><br><span class="line">    <span class="comment">// å¦‚æœä»Šå¤©æ—©äºä»»åŠ¡æœ€æ—©å¼€å§‹æ—¶é—´æˆ–æ™šäºä»»åŠ¡æœ€æ™šç»“æŸæ—¶é—´ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">gantt_start</span> &gt; date || <span class="variable language_">this</span>.<span class="property">gantt_end</span> &lt; date) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ºå½“å‰æ—¥æœŸæ ‡ç­¾æ·»åŠ é«˜äº®æ ·å¼</span></span><br><span class="line">    labelEl.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;current-date-highlight&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—ä»Šå¤©ç›¸å¯¹ Gantt å¼€å§‹æ—¶é—´çš„åç§»é‡</span></span><br><span class="line">    <span class="keyword">const</span> diff = (date - <span class="variable language_">this</span>.<span class="property">gantt_start</span>) / <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">step</span>;</span><br><span class="line">    <span class="keyword">const</span> x = diff * <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">column_width</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºçºµå‘çº¢è‰²é«˜äº®æ¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">create_el</span>(&#123;</span><br><span class="line">        <span class="attr">left</span>: x,</span><br><span class="line">        <span class="attr">top</span>: <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">header_height</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="variable language_">this</span>.<span class="property">grid_height</span> - <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">header_height</span>,</span><br><span class="line">        <span class="attr">classes</span>: <span class="string">&quot;current-highlight&quot;</span>,</span><br><span class="line">        <span class="attr">append_to</span>: <span class="variable language_">this</span>.<span class="property">$container</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºé¡¶éƒ¨çº¢ç‚¹æ ‡è®°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">create_el</span>(&#123;</span><br><span class="line">        <span class="attr">left</span>: x - <span class="number">2.5</span>,</span><br><span class="line">        <span class="attr">top</span>: <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">header_height</span> - <span class="number">6</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">classes</span>: <span class="string">&quot;current-ball-highlight&quot;</span>,</span><br><span class="line">        <span class="attr">append_to</span>: <span class="variable language_">this</span>.<span class="property">$header</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="â€œä»Šæ—¥çº¿â€ä¸æ˜¾ç¤ºçš„æ ¹æœ¬åŸå› "><a href="#â€œä»Šæ—¥çº¿â€ä¸æ˜¾ç¤ºçš„æ ¹æœ¬åŸå› " class="headerlink" title="â€œä»Šæ—¥çº¿â€ä¸æ˜¾ç¤ºçš„æ ¹æœ¬åŸå› "></a>â€œä»Šæ—¥çº¿â€ä¸æ˜¾ç¤ºçš„æ ¹æœ¬åŸå› </h2><p>æ ¸å¿ƒåœ¨è¿™è¡Œé€»è¾‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">gantt_start</span> &gt; date || <span class="variable language_">this</span>.<span class="property">gantt_end</span> &lt; date) <span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>

<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>å¦‚æœä»Šå¤©åœ¨æ‰€æœ‰ä»»åŠ¡æœ€æ—©å¼€å§‹æ—¥æœŸ <strong>ä¹‹å‰</strong>ï¼›</li>
<li>æˆ–è€…åœ¨æ‰€æœ‰ä»»åŠ¡æœ€æ™šç»“æŸæ—¥æœŸ <strong>ä¹‹å</strong>ï¼›</li>
<li>é‚£ä¹ˆ Frappe Gantt <strong>ä¸ä¼šç»˜åˆ¶</strong> ä»Šæ—¥çº¿ã€‚</li>
</ul>
<h3 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tasks = [</span><br><span class="line">  &#123; <span class="attr">start</span>: <span class="string">&#x27;2024-06-01&#x27;</span>, <span class="attr">end</span>: <span class="string">&#x27;2024-06-15&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">start</span>: <span class="string">&#x27;2024-06-10&#x27;</span>, <span class="attr">end</span>: <span class="string">&#x27;2024-06-25&#x27;</span> &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>è‹¥ä»Šå¤©æ˜¯ <code>2025-10-09</code>ï¼Œæ­¤æ—¶ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gantt_start = 2024-06-01</span><br><span class="line">gantt_end   = 2024-06-25</span><br><span class="line">today       = 2025-10-09</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä»Šå¤©è¶…å‡ºäº†ä»»åŠ¡èŒƒå›´ï¼Œ<code>highlight_current()</code> åœ¨æ‰§è¡Œæ—¶ç«‹å³è¿”å›ï¼Œä¸å†ç»˜åˆ¶çº¢çº¿ã€‚</p>
<h2 id="å®˜æ–¹è®¾è®¡æ„å›¾"><a href="#å®˜æ–¹è®¾è®¡æ„å›¾" class="headerlink" title="å®˜æ–¹è®¾è®¡æ„å›¾"></a>å®˜æ–¹è®¾è®¡æ„å›¾</h2><p>è¿™å¹¶é Bugï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>è®¾è®¡é€‰æ‹©ï¼ˆDesign Decisionï¼‰</strong>ã€‚<br> Frappe å›¢é˜Ÿçš„å‡è®¾æ˜¯ï¼š</p>
<blockquote>
<p>â€œä»Šæ—¥çº¿â€ä»…åœ¨ä»»åŠ¡æ—¶é—´èŒƒå›´å†…æ‰æœ‰æ„ä¹‰ã€‚<br> è‹¥ä»Šå¤©å®Œå…¨è¶…å‡ºä»»åŠ¡æ—¶é—´è½´ï¼Œç»˜åˆ¶é«˜äº®çº¿åè€Œä¼šå¼•èµ·è¯¯å¯¼ã€‚</p>
</blockquote>
<p>è¿™ç¬¦åˆâ€œä»»åŠ¡å¯¼å‘â€çš„å¯è§†åŒ–ç†å¿µâ€”â€”Gantt å›¾å¼ºè°ƒé¡¹ç›®æ—¶é—´çº¿ï¼Œè€Œéæ—¥å†çº¿æ€§æ—¶é—´ã€‚</p>
<h2 id="å®æµ‹éªŒè¯ï¼šæ‰‹åŠ¨è°ƒç”¨ä¸è¦†ç›–é€»è¾‘"><a href="#å®æµ‹éªŒè¯ï¼šæ‰‹åŠ¨è°ƒç”¨ä¸è¦†ç›–é€»è¾‘" class="headerlink" title="å®æµ‹éªŒè¯ï¼šæ‰‹åŠ¨è°ƒç”¨ä¸è¦†ç›–é€»è¾‘"></a>å®æµ‹éªŒè¯ï¼šæ‰‹åŠ¨è°ƒç”¨ä¸è¦†ç›–é€»è¾‘</h2><p>åœ¨å¼€å‘è€…æ§åˆ¶å°ä¸­æ‰§è¡Œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gantt.<span class="title function_">highlight_current</span>();</span><br></pre></td></tr></table></figure>

<p>å³å¯ç«‹å³è§¦å‘ç»˜åˆ¶é€»è¾‘ã€‚<br> å¦‚æœå½“æ—¥è¶…å‡ºä»»åŠ¡èŒƒå›´ï¼Œè°ƒç”¨åä¾ç„¶æ— ä»»ä½•æ•ˆæœï¼ŒåŸå› æ­£æ˜¯ä¸Šè¿°æ¡ä»¶ã€‚</p>
<h2 id="æ‰©å±•å®ç°ï¼šå¼ºåˆ¶æ˜¾ç¤ºâ€œä»Šæ—¥çº¿â€"><a href="#æ‰©å±•å®ç°ï¼šå¼ºåˆ¶æ˜¾ç¤ºâ€œä»Šæ—¥çº¿â€" class="headerlink" title="æ‰©å±•å®ç°ï¼šå¼ºåˆ¶æ˜¾ç¤ºâ€œä»Šæ—¥çº¿â€"></a>æ‰©å±•å®ç°ï¼šå¼ºåˆ¶æ˜¾ç¤ºâ€œä»Šæ—¥çº¿â€</h2><p>å¦‚æœä½ å¸Œæœ›æ— è®ºä»»åŠ¡èŒƒå›´å¦‚ä½•ï¼Œéƒ½èƒ½æ˜¾ç¤ºä»Šæ—¥çº¿ï¼Œå¯ä»¥åœ¨æ¸²æŸ“åè¿½åŠ è‡ªå®šä¹‰é€»è¾‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">const</span> start = gantt.<span class="property">start</span>;</span><br><span class="line">  <span class="keyword">const</span> end = gantt.<span class="property">end</span>;</span><br><span class="line">  <span class="keyword">const</span> totalDays = (end - start) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>);</span><br><span class="line">  <span class="keyword">const</span> dayWidth = gantt.<span class="property">options</span>.<span class="property">column_width</span>;</span><br><span class="line">  <span class="keyword">const</span> daysSinceStart = (today - start) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>);</span><br><span class="line">  <span class="keyword">const</span> x = daysSinceStart * dayWidth;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> line = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&quot;absolute&quot;</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">left</span> = <span class="string">`<span class="subst">$&#123;x&#125;</span>px`</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">top</span> = <span class="string">`<span class="subst">$&#123;gantt.options.header_height || <span class="number">40</span>&#125;</span>px`</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">height</span> = <span class="string">`<span class="subst">$&#123;gantt.$svg.getBBox().height&#125;</span>px`</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&quot;2px&quot;</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">background</span> = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">  line.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  gantt.<span class="property">$container</span>.<span class="title function_">appendChild</span>(line);</span><br><span class="line">&#125;, <span class="number">300</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±èƒ½åœ¨ä»»ä½•æƒ…å†µä¸‹â€œå¼ºåˆ¶æ˜¾ç¤ºâ€ä»Šæ—¥çº¿ï¼Œé€‚ç”¨äºè·¨å­£åº¦æˆ–é¡¹ç›®æš‚åœçš„æƒ…æ™¯ã€‚</p>
<h2 id="è§†è§‰æ ·å¼è¡¥å……"><a href="#è§†è§‰æ ·å¼è¡¥å……" class="headerlink" title="è§†è§‰æ ·å¼è¡¥å……"></a>è§†è§‰æ ·å¼è¡¥å……</h2><p>Frappe é»˜è®¤å®šä¹‰äº†ä»¥ä¸‹ä¸‰ä¸ª CSS ç±»ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.current-highlight</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.15</span>);</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.current-ball-highlight</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.current-date-highlight</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ å‘ç°çº¢çº¿é¢œè‰²å¤ªæµ…ï¼Œå¯åœ¨è‡ªå®šä¹‰æ ·å¼ä¸­è¦†ç›–é€æ˜åº¦æˆ–å±‚çº§ã€‚</p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ç»˜åˆ¶å‡½æ•°</td>
<td><code>highlight_current()</code></td>
</tr>
<tr>
<td>è°ƒç”¨è·¯å¾„</td>
<td><code>render() â†’ make_grid_highlights() â†’ highlight_current()</code></td>
</tr>
<tr>
<td>ä¸æ˜¾ç¤ºåŸå› </td>
<td>ä»Šå¤©ä¸åœ¨ <code>gantt_start</code> ä¸ <code>gantt_end</code> èŒƒå›´å†…</td>
</tr>
<tr>
<td>è®¾è®¡æ„å›¾</td>
<td>é¿å…åœ¨ä»»åŠ¡èŒƒå›´å¤–ç»˜åˆ¶æ— æ„ä¹‰çº¿æ¡</td>
</tr>
<tr>
<td>ä¿®å¤æ–¹æ³•</td>
<td>æ‰‹åŠ¨ç»˜åˆ¶ä»Šæ—¥çº¿æˆ–é‡è½½åˆ¤æ–­é€»è¾‘</td>
</tr>
</tbody></table>
<p>ä»è®¾è®¡å“²å­¦ä¸Šçœ‹ï¼Œè¿™ç§çº¦æŸç¬¦åˆâ€œæ•°æ®é©±åŠ¨è§†å›¾â€çš„ç†å¿µï¼› ä½†ä»ç”¨æˆ·ä½“éªŒä¸Šè¯´ï¼Œ<strong>å¼€å‘è€…å¾€å¾€æœŸæœ›çœ‹åˆ°â€œä»Šå¤©â€åœ¨æ•´ä¸ªæ—¶é—´è½´ä¸Šçš„ä½ç½®</strong>ï¼Œå“ªæ€•è¶…å‡ºä»»åŠ¡èŒƒå›´ã€‚ä¸ªäººæµ…è§ï¼Œä¸è¶³ä¹‹å¤„ï¼Œæœ›è¯·æŒ‡æ­£ã€‚</p>

  </div>

  
  <div class="about" data-pagefind-ignore>
    <h2>å…³äºæœ¬æ–‡</h2>
    <div class="details">
      <p>ç”± Barbossa Wang æ’°å†™ï¼Œé‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a> è®¸å¯åè®®ã€‚</p>
    </div>
    
    <p class="tags">
      <i class="bi bi-tags icon"></i>
      
      <a href="/tags/Javascript/" class="tag">#Javascript</a>
      
      <a href="/tags/Frappe/" class="tag">#Frappe</a>
      
      <a href="/tags/Gantt/" class="tag">#Gantt</a>
      
    </p>
    
    
  </div>
  

  <div class="container post-prev-next" data-pagefind-ignore>
    <a class="next"></a>
    
    <a href="/posts/cpp-01-practice-pybind11-debug-link-issue.html" class="prev">
      <div class="text">
        <p class="label">ä¸Šä¸€ç¯‡</p>
        <h3 class="title">C++å®è·µpybind11-Debugæ¨¡å¼ä¸‹æ— æ³•æ­£ç¡®é“¾æ¥libåº“çš„é—®é¢˜</h3>
      </div>
    </a>
    
  </div>

  
    
    
  
</article>


    </main>
    <footer>
  <div class="inner">
    <div class="links">
      
      <div class="group">
        <h2 class="title">Blog</h2>
        
        <a href="/" class="item">Home</a>
        
        <a href="/archives" class="item">Archives</a>
        
        <a href="/tags" class="item">Tags</a>
        
        <a href="/categories" class="item">Categories</a>
        
        <a href="/search" class="item">Search</a>
        
        <a href="/atom.xml" class="item">RSS</a>
        
      </div>
      
      <div class="group">
        <h2 class="title">Me</h2>
        
        <a target="_blank" rel="noopener" href="https://github.com/zicowarn" class="item">GitHub</a>
        
        <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/zhichao-wang-a16662109" class="item">linkedin</a>
        
        <a href="mailto:mr.will.com@outlook.com" class="item">Email</a>
        
      </div>
      
    </div>
    <span>&copy; 2025 Barbossa Wang<br>ç”± <a href="http://hexo.io/" target="_blank">Hexo</a> é©±åŠ¨</span>
    
    
      <br>
      <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
        <label>
          <input type="radio" value="light">
          <span>æµ…è‰²</span>
        </label>
        <label>
          <input type="radio" value="dark">
          <span>æ·±è‰²</span>
        </label>
        <label>
          <input type="radio" value="auto">
          <span>è‡ªåŠ¨</span>
        </label>
      </div>
    
  </div>
</footer>


    
<script src="/js/main.js"></script>


    

    
    
<script src="/js/scroll-reveal.js"></script>

    

    

    

    
  </body>
</html>
